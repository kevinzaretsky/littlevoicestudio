import Link from 'next/link'; import { prisma } from '@/lib/db'; export default async function Orders(){ const orders=await prisma.order.findMany({orderBy:{createdAt:'desc'},include:{items:true}}); return (<div className='grid gap-4'><h1 className='text-2xl font-semibold'>Bestellungen</h1><table className='table'><thead><tr><th>Bestellnr.</th><th>Status</th><th>Positionen</th><th>Datum</th><th></th></tr></thead><tbody>{orders.map(o=>(<tr key={o.id}><td>{o.orderNumber}</td><td>{o.status}</td><td>{o.items.reduce((s,i)=>s+i.qty,0)}</td><td>{o.createdAt.toISOString().slice(0,10)}</td><td><Link href={`/admin/orders/${o.id}`}>Ã–ffnen</Link></td></tr>))}</tbody></table></div>); }